{"version":3,"sources":["s3Directive.js","controllers/aboutCtrl.js","controllers/adminHomeCtrl.js","controllers/clientAlbumCtrl.js","controllers/clientAlbumManageCtrl.js","controllers/clientHomeCtrl.js","controllers/contactCtrl.js","controllers/mainCtrl.js","controllers/photoAlbumCtrl.js","controllers/photosCtrl.js","controllers/selectAlbumCtrl.js","controllers/signinCtrl.js","controllers/siteAlbumManageCtrl.js","controllers/videoAlbumCtrl.js","controllers/videosCtrl.js","services/contactService.js","services/mediaService.js","services/signinService.js"],"names":["angular","module","directive","mediaService","restrict","link","scope","elem","attrs","bind","changeEvent","reader","FileReader","onloadend","loadEvent","fileread","target","result","tempArray","value","split","fileName","length","type","clientId","sampleId","client","id","sample","console","log","storeImage","then","images","unshift","data","catch","err","error","readAsDataURL","files","controller","$scope","test","getAllSampleAlbums","response","sampleAlbums","getAllClientAlbums","clientAlbums","addAlbum","album","getUserNames","users","addUserToAlbum","user","userid","albumid","$stateParams","getClientAlbum","photos","getClientAlbums","albums","signinService","getMedia","media","getUser","username","loginLocal","password","res","logout","getSampleAlbum","getPhotoSampleAlbums","$state","getSampleVideos","videos","service","$http","get","getVideoSampleAlbums","post","name","date","imageData","imageExtension","newImage","imageName","imageBody","credentials","method","url"],"mappings":";;AAAAA,QAAQC,MAAR,CAAe,KAAf,EAECC,SAFD,CAEW,UAFX,EAEuB,UAAUC,YAAV,EAAwB;AAC7C,SAAO;AACLC,cAAU,GADL;AAELC,UAAM,cAAUC,KAAV,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8B;AAClCD,WAAKE,IAAL,CAAU,QAAV,EAAoB,UAAUC,WAAV,EAAuB;AACzC,YAAIC,SAAS,IAAIC,UAAJ,EAAb;;AAEAD,eAAOE,SAAP,GAAmB,UAAUC,SAAV,EAAqB;AACtC;AACA,cAAIC,WAAWD,UAAUE,MAAV,CAAiBC,MAAhC;AACA;;;AAGA,cAAIC,YAAYX,KAAK,CAAL,EAAQY,KAAR,CAAcC,KAAd,CAAoB,IAApB,CAAhB;;AAEA,cAAIC,WAAWH,UAAUA,UAAUI,MAAV,GAAmB,CAA7B,CAAf;AACA,cAAIC,OAAOjB,MAAMiB,IAAjB;AACA,cAAIC,WAAW,IAAf;AACA,cAAIC,WAAW,IAAf;AACE,cAAInB,MAAMoB,MAAV,EAAkB;AAChBF,uBAAWlB,MAAMoB,MAAN,CAAaC,EAAxB;AACD;AACD,cAAIrB,MAAMsB,MAAV,EAAkB;AAChBH,uBAAWnB,MAAMsB,MAAN,CAAaD,EAAxB;AACD;;AAGHE,kBAAQC,GAAR,CAAYP,IAAZ,EAAkBC,QAAlB,EAA4BC,QAA5B;;AAEAtB,uBAAa4B,UAAb,CAAwBhB,QAAxB,EAAkCM,QAAlC,EAA4CE,IAA5C,EAAkDC,QAAlD,EAA4DC,QAA5D,EACCO,IADD,CACM,UAAUf,MAAV,EAAkB;AACtBX,kBAAM2B,MAAN,CAAaC,OAAb,CAAqBjB,OAAOkB,IAA5B;AACD,WAHD,EAICC,KAJD,CAIO,UAAUC,GAAV,EAAe;AACpBR,oBAAQS,KAAR,CAAcD,GAAd;AACD,WAND;AAOD,SA7BD;;AA+BA1B,eAAO4B,aAAP,CAAqB7B,YAAYM,MAAZ,CAAmBwB,KAAnB,CAAyB,CAAzB,CAArB;AACD,OAnCD;AAoCD;AAvCI,GAAP;AAyCD,CA5CD;;;ACAAxC,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,WAAjC,EAA8C,UAASC,MAAT,EAAiB;;AAG7DA,SAAOC,IAAP,GAAc,OAAd;AAID,CAPD;;;ACAA3C,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,eAAjC,EAAkD,UAASC,MAAT,EAAiBvC,YAAjB,EAA+B;;AAE/EuC,SAAOE,kBAAP,GAA4B,YAAW;AACrCzC,iBAAayC,kBAAb,GAAkCZ,IAAlC,CAAuC,UAASa,QAAT,EAAmB;AACxDH,aAAOI,YAAP,GAAsBD,QAAtB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOE,kBAAP;;AAEAF,SAAOK,kBAAP,GAA4B,YAAW;AACrC5C,iBAAa4C,kBAAb,GAAkCf,IAAlC,CAAuC,UAASa,QAAT,EAAmB;AACxDH,aAAOM,YAAP,GAAsBH,QAAtB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOK,kBAAP;;AAEAL,SAAOO,QAAP,GAAkB,UAASC,KAAT,EAAgB;AAChC/C,iBAAa8C,QAAb,CAAsBC,KAAtB,EAA6BlB,IAA7B,CAAkC,UAASa,QAAT,EAAmB;AACnDhB,cAAQC,GAAR,CAAYoB,KAAZ;AACA,aAAOL,QAAP;AACD,KAHD;AAID,GALD;;AAOAH,SAAOT,MAAP,GAAgB,EAAhB;;AAEAS,SAAOS,YAAP,GAAsB,YAAW;AAC/BhD,iBAAagD,YAAb,GAA4BnB,IAA5B,CAAiC,UAASa,QAAT,EAAmB;AAClDH,aAAOU,KAAP,GAAeP,QAAf;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOS,YAAP;;AAEAT,SAAOW,cAAP,GAAwB,UAASC,IAAT,EAAeJ,KAAf,EAAsB;AAC5C,QAAIK,SAASb,OAAOY,IAAP,CAAY3B,EAAzB;AACA,QAAI6B,UAAUd,OAAOQ,KAAP,CAAavB,EAA3B;AACAE,YAAQC,GAAR,CAAYyB,MAAZ,EAAoBC,OAApB;AACArD,iBAAakD,cAAb,CAA4BE,MAA5B,EAAoCC,OAApC,EAA6CxB,IAA7C,CAAkD,UAASa,QAAT,EAAmB;AACnE,aAAOA,QAAP;AACD,KAFD;AAGD,GAPD;AAgBD,CAnDD;;;ACAA7C,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,iBAAjC,EAAoD,UAASC,MAAT,EAAiBvC,YAAjB,EAA+BsD,YAA/B,EAA6C;;AAG/Ff,SAAOC,IAAP,GAAc,aAAd;;AAEAD,SAAOgB,cAAP,GAAwB,YAAW;AACjCvD,iBAAauD,cAAb,CAA4BD,aAAa9B,EAAzC,EAA6CK,IAA7C,CAAkD,UAASa,QAAT,EAAmB;AACnEH,aAAOiB,MAAP,GAAgBd,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOgB,cAAP;AAID,CAfD;ACAA;;;ACAA1D,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,gBAAjC,EAAmD,UAASC,MAAT,EAAiBvC,YAAjB,EAA+BsD,YAA/B,EAA6C;;AAG9Ff,SAAOC,IAAP,GAAc,YAAd;;AAEAD,SAAOkB,eAAP,GAAyB,YAAW;AAClCzD,iBAAayD,eAAb,CAA6BH,aAAa9B,EAA1C,EAA8CK,IAA9C,CAAmD,UAASa,QAAT,EAAmB;AACpEH,aAAOmB,MAAP,GAAgBhB,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOkB,eAAP;AAGD,CAdD;;;ACAA5D,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,aAAjC,EAAgD,UAASC,MAAT,EAAiB;;AAG/DA,SAAOC,IAAP,GAAc,SAAd;AAID,CAPD;;;ACAA3C,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,UAAjC,EAA6C,UAASC,MAAT,EAAiBvC,YAAjB,EAA+B2D,aAA/B,EAA8C;;AAGzFpB,SAAOqB,QAAP,GAAkB,YAAW;AAC3B5D,iBAAa4D,QAAb,GAAwB/B,IAAxB,CAA6B,UAASa,QAAT,EAAmB;AAC9CH,aAAOsB,KAAP,GAAenB,QAAf;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOqB,QAAP;;AAEA,WAASE,OAAT,GAAmB;AACjBH,kBAAcG,OAAd,GAAwBjC,IAAxB,CAA6B,UAASsB,IAAT,EAAe;AAC1C,UAAIA,IAAJ,EAAUZ,OAAOY,IAAP,GAAcA,KAAKY,QAAnB,CAAV,KACOxB,OAAOY,IAAP,GAAc,eAAd;AACR,KAHD;AAID;;AAEDW;;AAEAvB,SAAOyB,UAAP,GAAoB,UAASD,QAAT,EAAmBE,QAAnB,EAA6B;AAC/CvC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BoC,QAA/B,EAAyCE,QAAzC;AACAN,kBAAcK,UAAd,CAAyB;AACvBD,gBAAUA,QADa;AAEvBE,gBAAUA;AAFa,KAAzB,EAICpC,IAJD,CAIM,UAASqC,GAAT,EAAc;AAClBJ;AACD,KAND;AAOD,GATD;;AAWAvB,SAAO4B,MAAP,GAAgBR,cAAcQ,MAA9B;AAGD,CAlCD;;;ACAAtE,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,gBAAjC,EAAmD,UAASC,MAAT,EAAiBvC,YAAjB,EAA+BsD,YAA/B,EAA6C;;AAI9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAf,SAAO6B,cAAP,GAAwB,YAAW;AACjCpE,iBAAaoE,cAAb,CAA4Bd,aAAa9B,EAAzC,EAA6CK,IAA7C,CAAkD,UAASa,QAAT,EAAmB;AACnEH,aAAOiB,MAAP,GAAgBd,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAO6B,cAAP;AAKD,CA7BD;;;ACAAvE,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,YAAjC,EAA+C,UAASC,MAAT,EAAiBvC,YAAjB,EAA+B2D,aAA/B,EAA8C;;AAG3FpB,SAAOC,IAAP,GAAc,QAAd;;AAEAD,SAAO8B,oBAAP,GAA8B,YAAW;AACvCrE,iBAAaqE,oBAAb,GAAoCxC,IAApC,CAAyC,UAASa,QAAT,EAAmB;AAC1DH,aAAOmB,MAAP,GAAgBhB,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAO8B,oBAAP;;AAEA,WAASP,OAAT,GAAmB;AACjBH,kBAAcG,OAAd,GAAwBjC,IAAxB,CAA6B,UAASsB,IAAT,EAAe;AAC1C,UAAIA,IAAJ,EAAUZ,OAAOY,IAAP,GAAcA,KAAKY,QAAnB,CAAV,KACOxB,OAAOY,IAAP,GAAc,eAAd;AACR,KAHD;AAID;;AAEDW;;AAEAvB,SAAOyB,UAAP,GAAoB,UAASD,QAAT,EAAmBE,QAAnB,EAA6B;AAC/CvC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BoC,QAA/B,EAAyCE,QAAzC;AACAN,kBAAcK,UAAd,CAAyB;AACvBD,gBAAUA,QADa;AAEvBE,gBAAUA;AAFa,KAAzB,EAICpC,IAJD,CAIM,UAASqC,GAAT,EAAc;AAClBJ;AACD,KAND;AAOD,GATD;;AAWAvB,SAAO4B,MAAP,GAAgBR,cAAcQ,MAA9B;AAID,CArCD;ACAA;;;ACAAtE,QAAQC,MAAR,CAAe,KAAf,EACCwC,UADD,CACY,YADZ,EAC0B,UAASC,MAAT,EAAiBoB,aAAjB,EAAgCW,MAAhC,EAAwC;;AAGhE,WAASR,OAAT,GAAmB;AACjBH,kBAAcG,OAAd,GAAwBjC,IAAxB,CAA6B,UAASsB,IAAT,EAAe;AAC1C,UAAIA,IAAJ,EAAUZ,OAAOY,IAAP,GAAcA,KAAKY,QAAnB,CAAV,KACOxB,OAAOY,IAAP,GAAc,eAAd;AACR,KAHD;AAID;;AAEDW;;AAEAvB,SAAOyB,UAAP,GAAoB,UAASD,QAAT,EAAmBE,QAAnB,EAA6B;AAC/CvC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BoC,QAA/B,EAAyCE,QAAzC;AACAN,kBAAcK,UAAd,CAAyB;AACvBD,gBAAUA,QADa;AAEvBE,gBAAUA;AAFa,KAAzB,EAICpC,IAJD,CAIM,UAASqC,GAAT,EAAc;AAClBJ;AACD,KAND;AAOD,GATD;;AAWAvB,SAAO4B,MAAP,GAAgBR,cAAcQ,MAA9B;AAGD,CA3BD;ACAA;;;ACAAtE,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,gBAAjC,EAAmD,UAASC,MAAT,EAAiBvC,YAAjB,EAA+BsD,YAA/B,EAA6C;;AAG9Ff,SAAOC,IAAP,GAAc,YAAd;;AAEAD,SAAOgC,eAAP,GAAyB,YAAW;AAClCvE,iBAAauE,eAAb,CAA6BjB,aAAa9B,EAA1C,EAA8CK,IAA9C,CAAmD,UAASa,QAAT,EAAmB;AACpEH,aAAOiC,MAAP,GAAgB9B,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOgC,eAAP;AAED,CAbD;;;ACAA1E,QAAQC,MAAR,CAAe,KAAf,EAAsBwC,UAAtB,CAAiC,YAAjC,EAA+C,UAASC,MAAT,EAAiBvC,YAAjB,EAA+BsD,YAA/B,EAA6C;;AAG1Ff,SAAOC,IAAP,GAAc,QAAd;;AAEAD,SAAOgC,eAAP,GAAyB,YAAW;AAClCvE,iBAAauE,eAAb,GAA+B1C,IAA/B,CAAoC,UAASa,QAAT,EAAmB;AACrDH,aAAOiC,MAAP,GAAgB9B,QAAhB;AACD,KAFD;AAGD,GAJD;;AAMAH,SAAOgC,eAAP;AAGD,CAdD;ACAA;;;ACAA1E,QAAQC,MAAR,CAAe,KAAf,EAAsB2E,OAAtB,CAA8B,cAA9B,EAA8C,UAASC,KAAT,EAAgB;;AAE5D,OAAKd,QAAL,GAAgB,YAAW;AACzB,WAAOc,MAAMC,GAAN,CAAU,oCAAV,EAAgD9C,IAAhD,CAAqD,UAASa,QAAT,EAAmB;AAC7EhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKqC,oBAAL,GAA4B,YAAW;AACrC,WAAOK,MAAMC,GAAN,CAAU,wCAAV,EAAoD9C,IAApD,CAAyD,UAASa,QAAT,EAAmB;AACjFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKoC,cAAL,GAAsB,UAAS5C,EAAT,EAAa;AACjC,WAAOkD,MAAMC,GAAN,CAAU,gDAAgDnD,EAA1D,EAA8DK,IAA9D,CAAmE,UAASa,QAAT,EAAmB;AAC3FhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKyB,eAAL,GAAuB,UAASjC,EAAT,EAAa;AAClC,WAAOkD,MAAMC,GAAN,CAAU,4CAA4CnD,EAAtD,EAA0DK,IAA1D,CAA+D,UAASa,QAAT,EAAmB;AACvFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKuB,cAAL,GAAsB,UAAS/B,EAAT,EAAa;AACjC,WAAOkD,MAAMC,GAAN,CAAU,2CAA2CnD,EAArD,EAAyDK,IAAzD,CAA8D,UAASa,QAAT,EAAmB;AACtFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAK4C,oBAAL,GAA4B,YAAW;AACrC,WAAOF,MAAMC,GAAN,CAAU,wCAAV,EAAoD9C,IAApD,CAAyD,UAASa,QAAT,EAAmB;AACjFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKuC,eAAL,GAAuB,YAAW;AAChC,WAAOG,MAAMC,GAAN,CAAU,wCAAV,EAAoD9C,IAApD,CAAyD,UAASa,QAAT,EAAmB;AACjFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKS,kBAAL,GAA0B,YAAW;AACnC,WAAOiC,MAAMC,GAAN,CAAU,wCAAV,EAAoD9C,IAApD,CAAyD,UAASa,QAAT,EAAmB;AACjFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKY,kBAAL,GAA0B,YAAW;AACnC,WAAO8B,MAAMC,GAAN,CAAU,2CAAV,EAAuD9C,IAAvD,CAA4D,UAASa,QAAT,EAAmB;AACpFhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKc,QAAL,GAAgB,UAASC,KAAT,EAAgB;AAC9B,WAAO2B,MAAMG,IAAN,CAAW,oCAAX,EAAiD,EAACC,MAAM/B,MAAM+B,IAAb,EAAmBC,MAAMhC,MAAMgC,IAA/B,EAAjD,EAAuFlD,IAAvF,CAA4F,UAASa,QAAT,EAAmB;AACpHhB,cAAQC,GAAR,CAAYoB,KAAZ;AACA,aAAOL,QAAP;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKd,UAAL,GAAkB,UAAUoD,SAAV,EAAqB9D,QAArB,EAA+BE,IAA/B,EAAqCC,QAArC,EAA+CC,QAA/C,EAAyD;AACzE,QAAI2D,iBAAiBD,UAAU/D,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwBA,KAAxB,CAA8B,GAA9B,CAArB;AACAgE,qBAAiBA,eAAeA,eAAe9D,MAAf,GAAwB,CAAvC,CAAjB;;AAEA,QAAI+D,WAAW;AACbC,iBAAWjE,QADE;AAEbkE,iBAAWJ,SAFE;AAGbC,sBAAgBA,cAHH;AAIb7D,YAAMA,IAJO;AAKbC,gBAAUA,QALG;AAMbC,gBAAUA;AANG,KAAf;;AASA,WAAOoD,MAAMG,IAAN,CAAW,uCAAX,EAAoDK,QAApD,CAAP;AACD,GAdD;;AAgBA,OAAKlC,YAAL,GAAoB,YAAW;AAC7B,WAAO0B,MAAMC,GAAN,CAAU,qCAAV,EAAiD9C,IAAjD,CAAsD,UAASa,QAAT,EAAmB;AAC9EhB,cAAQC,GAAR,CAAYe,SAASV,IAArB;AACA,aAAOU,SAASV,IAAhB;AACD,KAHM,CAAP;AAID,GALD;;AAOA,OAAKkB,cAAL,GAAsB,UAASE,MAAT,EAAiBC,OAAjB,EAA0B;AAC9C,WAAOqB,MAAMG,IAAN,CAAW,0CAAX,EAAuD,EAACzB,QAAQA,MAAT,EAAiBC,SAASA,OAA1B,EAAvD,CAAP;AACD,GAFD;AAKD,CApGD;;;ACAAxD,QAAQC,MAAR,CAAe,KAAf,EACC2E,OADD,CACS,eADT,EAC0B,UAASC,KAAT,EAAgB;AACxC,OAAKV,UAAL,GAAkB,UAASqB,WAAT,EAAsB;AACtC,WAAOX,MAAM;AACXY,cAAQ,MADG;AAEXC,WAAK,aAFM;AAGXvD,YAAMqD;AAHK,KAAN,EAKNxD,IALM,CAKD,UAASqC,GAAT,EAAc;AAClB,aAAOA,IAAIlC,IAAX;AACD,KAPM,EAQNC,KARM,CAQA,UAASC,GAAT,EAAc;AACnBR,cAAQC,GAAR,CAAY,mBAAZ,EAAiCO,GAAjC;AACD,KAVM,CAAP;AAWD,GAZD;;AAcA,OAAK4B,OAAL,GAAe,YAAW;AACxB,WAAOY,MAAM;AACXY,cAAQ,KADG;AAEXC,WAAK;AAFM,KAAN,EAIN1D,IAJM,CAID,UAASqC,GAAT,EAAc;AAClB,aAAOA,IAAIlC,IAAX;AACD,KANM,EAONC,KAPM,CAOA,UAASC,GAAT,EAAc;AACnBR,cAAQC,GAAR,CAAYO,GAAZ;AACD,KATM,CAAP;AAUD,GAXD;;AAaA,OAAKiC,MAAL,GAAc,YAAW;AACvB,WAAOO,MAAM;AACXY,cAAQ,KADG;AAEXC,WAAK;AAFM,KAAN,EAIN1D,IAJM,CAID,UAASqC,GAAT,EAAc;AAClB,aAAOA,IAAIlC,IAAX;AACD,KANM,EAONC,KAPM,CAOA,UAASC,GAAT,EAAc;AACnBR,cAAQC,GAAR,CAAYO,GAAZ;AACD,KATM,CAAP;AAUD,GAXD;AAYD,CAzCD","file":"bundle.js","sourcesContent":["angular.module('app')\r\n\r\n.directive('fileread', function (mediaService) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function (scope, elem, attrs) {\r\n      elem.bind(\"change\", function (changeEvent) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onloadend = function (loadEvent) {\r\n          debugger;\r\n          var fileread = loadEvent.target.result;\r\n          // console.warn(fileread);\r\n\r\n\r\n          var tempArray = elem[0].value.split('\\\\');\r\n\r\n          var fileName = tempArray[tempArray.length - 1];\r\n          var type = scope.type;\r\n          var clientId = null;\r\n          var sampleId = null;\r\n            if (scope.client) {\r\n              clientId = scope.client.id;\r\n            }\r\n            if (scope.sample) {\r\n              sampleId = scope.sample.id;\r\n            }\r\n          \r\n\r\n          console.log(type, clientId, sampleId);\r\n\r\n          mediaService.storeImage(fileread, fileName, type, clientId, sampleId)\r\n          .then(function (result) {\r\n            scope.images.unshift(result.data);\r\n          })\r\n          .catch(function (err) {\r\n            console.error(err);\r\n          });\r\n        }\r\n\r\n        reader.readAsDataURL(changeEvent.target.files[0]);\r\n      });\r\n    }\r\n  }\r\n})\r\n","angular.module('app').controller('aboutCtrl', function($scope) {\r\n\r\n\r\n  $scope.test = \"about\"\r\n\r\n\r\n\r\n})\r\n","angular.module('app').controller('adminHomeCtrl', function($scope, mediaService) {\r\n\r\n  $scope.getAllSampleAlbums = function() {\r\n    mediaService.getAllSampleAlbums().then(function(response) {\r\n      $scope.sampleAlbums = response;\r\n    })\r\n  }\r\n\r\n  $scope.getAllSampleAlbums();\r\n\r\n  $scope.getAllClientAlbums = function() {\r\n    mediaService.getAllClientAlbums().then(function(response) {\r\n      $scope.clientAlbums = response;\r\n    })\r\n  }\r\n\r\n  $scope.getAllClientAlbums();\r\n\r\n  $scope.addAlbum = function(album) {\r\n    mediaService.addAlbum(album).then(function(response) {\r\n      console.log(album);\r\n      return response\r\n    })\r\n  }\r\n\r\n  $scope.images = [];\r\n\r\n  $scope.getUserNames = function() {\r\n    mediaService.getUserNames().then(function(response) {\r\n      $scope.users = response\r\n    })\r\n  }\r\n\r\n  $scope.getUserNames();\r\n\r\n  $scope.addUserToAlbum = function(user, album) {\r\n    var userid = $scope.user.id;\r\n    var albumid = $scope.album.id;\r\n    console.log(userid, albumid);\r\n    mediaService.addUserToAlbum(userid, albumid).then(function(response) {\r\n      return response\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n})\r\n","angular.module('app').controller('clientAlbumCtrl', function($scope, mediaService, $stateParams) {\r\n\r\n\r\n  $scope.test = \"clientAlbum\"\r\n\r\n  $scope.getClientAlbum = function() {\r\n    mediaService.getClientAlbum($stateParams.id).then(function(response) {\r\n      $scope.photos = response;\r\n    })\r\n  }\r\n\r\n  $scope.getClientAlbum();\r\n\r\n\r\n\r\n})\r\n","","angular.module('app').controller('clientHomeCtrl', function($scope, mediaService, $stateParams) {\r\n\r\n\r\n  $scope.test = \"clientHome\"\r\n\r\n  $scope.getClientAlbums = function() {\r\n    mediaService.getClientAlbums($stateParams.id).then(function(response) {\r\n      $scope.albums = response;\r\n    })\r\n  }\r\n\r\n  $scope.getClientAlbums();\r\n\r\n\r\n})\r\n","angular.module('app').controller('contactCtrl', function($scope) {\r\n\r\n\r\n  $scope.test = \"contact\"\r\n\r\n\r\n\r\n})\r\n","angular.module('app').controller('mainCtrl', function($scope, mediaService, signinService) {\r\n\r\n\r\n  $scope.getMedia = function() {\r\n    mediaService.getMedia().then(function(response) {\r\n      $scope.media = response;\r\n    })\r\n  }\r\n\r\n  $scope.getMedia();\r\n\r\n  function getUser() {\r\n    signinService.getUser().then(function(user) {\r\n      if (user) $scope.user = user.username;\r\n      else   $scope.user = 'NOT LOGGED IN';\r\n    })\r\n  }\r\n\r\n  getUser();\r\n\r\n  $scope.loginLocal = function(username, password) {\r\n    console.log('Logging in with', username, password);\r\n    signinService.loginLocal({\r\n      username: username,\r\n      password: password\r\n    })\r\n    .then(function(res) {\r\n      getUser();\r\n    })\r\n  }\r\n\r\n  $scope.logout = signinService.logout;\r\n\r\n\r\n})\r\n","angular.module('app').controller('photoAlbumCtrl', function($scope, mediaService, $stateParams) {\r\n\r\n\r\n\r\n  // $scope.getMedia = function() {\r\n  //   $scope.photos = [];\r\n  //   mediaService.getMedia().then(function(response) {\r\n  //     $scope.media = response;\r\n  //     for (var i = 0;i<$scope.media.length;i++) {\r\n  //   if ($scope.media[i].samplealbum == $stateParams.id) {\r\n  //     $scope.photos.push($scope.media[i])\r\n  //   }\r\n  // }\r\n  //   })\r\n  // }\r\n  //\r\n  // $scope.getMedia();\r\n\r\n  $scope.getSampleAlbum = function() {\r\n    mediaService.getSampleAlbum($stateParams.id).then(function(response) {\r\n      $scope.photos = response;\r\n    })\r\n  }\r\n\r\n  $scope.getSampleAlbum();\r\n\r\n\r\n\r\n\r\n})\r\n","angular.module('app').controller('photosCtrl', function($scope, mediaService, signinService) {\r\n\r\n\r\n  $scope.test = \"photos\"\r\n\r\n  $scope.getPhotoSampleAlbums = function() {\r\n    mediaService.getPhotoSampleAlbums().then(function(response) {\r\n      $scope.albums = response;\r\n    })\r\n  }\r\n\r\n  $scope.getPhotoSampleAlbums();\r\n\r\n  function getUser() {\r\n    signinService.getUser().then(function(user) {\r\n      if (user) $scope.user = user.username;\r\n      else   $scope.user = 'NOT LOGGED IN';\r\n    })\r\n  }\r\n\r\n  getUser();\r\n\r\n  $scope.loginLocal = function(username, password) {\r\n    console.log('Logging in with', username, password);\r\n    signinService.loginLocal({\r\n      username: username,\r\n      password: password\r\n    })\r\n    .then(function(res) {\r\n      getUser();\r\n    })\r\n  }\r\n\r\n  $scope.logout = signinService.logout;\r\n\r\n\r\n\r\n})\r\n","","angular.module('app')\r\n.controller('signinCtrl', function($scope, signinService, $state) {\r\n\r\n\r\n  function getUser() {\r\n    signinService.getUser().then(function(user) {\r\n      if (user) $scope.user = user.username;\r\n      else   $scope.user = 'NOT LOGGED IN';\r\n    })\r\n  }\r\n\r\n  getUser();\r\n\r\n  $scope.loginLocal = function(username, password) {\r\n    console.log('Logging in with', username, password);\r\n    signinService.loginLocal({\r\n      username: username,\r\n      password: password\r\n    })\r\n    .then(function(res) {\r\n      getUser();\r\n    })\r\n  }\r\n\r\n  $scope.logout = signinService.logout;\r\n\r\n\r\n})\r\n","","angular.module('app').controller('videoAlbumCtrl', function($scope, mediaService, $stateParams) {\r\n\r\n\r\n  $scope.test = \"videoAlbum\"\r\n\r\n  $scope.getSampleVideos = function() {\r\n    mediaService.getSampleVideos($stateParams.id).then(function(response) {\r\n      $scope.videos = response;\r\n    })\r\n  }\r\n\r\n  $scope.getSampleVideos();\r\n\r\n})\r\n","angular.module('app').controller('videosCtrl', function($scope, mediaService, $stateParams) {\r\n\r\n\r\n  $scope.test = \"videos\"\r\n\r\n  $scope.getSampleVideos = function() {\r\n    mediaService.getSampleVideos().then(function(response) {\r\n      $scope.videos = response;\r\n    })\r\n  }\r\n\r\n  $scope.getSampleVideos();\r\n\r\n\r\n})\r\n","","angular.module('app').service('mediaService', function($http) {\r\n\r\n  this.getMedia = function() {\r\n    return $http.get('http://localhost:5350/api/allMedia').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getPhotoSampleAlbums = function() {\r\n    return $http.get('http://localhost:5350/api/SamplePhotos').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getSampleAlbum = function(id) {\r\n    return $http.get('http://localhost:5350/api/SamplePhotoAlbum/' + id).then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getClientAlbums = function(id) {\r\n    return $http.get('http://localhost:5350/api/ClientAlbums/' + id).then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getClientAlbum = function(id) {\r\n    return $http.get('http://localhost:5350/api/ClientAlbum/' + id).then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getVideoSampleAlbums = function() {\r\n    return $http.get('http://localhost:5350/api/SampleVideos').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getSampleVideos = function() {\r\n    return $http.get('http://localhost:5350/api/SampleVideos').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getAllSampleAlbums = function() {\r\n    return $http.get('http://localhost:5350/api/SampleAlbums').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.getAllClientAlbums = function() {\r\n    return $http.get('http://localhost:5350/api/AllClientAlbums').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.addAlbum = function(album) {\r\n    return $http.post('http://localhost:5350/api/AddAlbum', {name: album.name, date: album.date}).then(function(response) {\r\n      console.log(album);\r\n      return response;\r\n    })\r\n  }\r\n\r\n  this.storeImage = function (imageData, fileName, type, clientId, sampleId) {\r\n    var imageExtension = imageData.split(';')[0].split('/');\r\n    imageExtension = imageExtension[imageExtension.length - 1];\r\n\r\n    var newImage = {\r\n      imageName: fileName,\r\n      imageBody: imageData,\r\n      imageExtension: imageExtension,\r\n      type: type,\r\n      clientId: clientId,\r\n      sampleId: sampleId\r\n    }\r\n\r\n    return $http.post('http://localhost:5350/api/uploadImage', newImage)\r\n  }\r\n\r\n  this.getUserNames = function() {\r\n    return $http.get('http://localhost:5350/api/UserNames').then(function(response) {\r\n      console.log(response.data);\r\n      return response.data;\r\n    })\r\n  }\r\n\r\n  this.addUserToAlbum = function(userid, albumid) {\r\n    return $http.post('http://localhost:5350/api/addUserToAlbum', {userid: userid, albumid: albumid})\r\n  }\r\n\r\n\r\n})\r\n","angular.module('app')\r\n.service('signinService', function($http) {\r\n  this.loginLocal = function(credentials) {\r\n    return $http({\r\n      method: \"POST\",\r\n      url: '/auth/local',\r\n      data: credentials\r\n    })\r\n    .then(function(res) {\r\n      return res.data;\r\n    })\r\n    .catch(function(err) {\r\n      console.log('ERROR LOGGING IN!', err);\r\n    })\r\n  }\r\n\r\n  this.getUser = function() {\r\n    return $http({\r\n      method: 'GET',\r\n      url: '/auth/me'\r\n    })\r\n    .then(function(res) {\r\n      return res.data;\r\n    })\r\n    .catch(function(err) {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  this.logout = function() {\r\n    return $http({\r\n      method: 'GET',\r\n      url: '/auth/logout'\r\n    })\r\n    .then(function(res) {\r\n      return res.data;\r\n    })\r\n    .catch(function(err) {\r\n      console.log(err);\r\n    })\r\n  }\r\n})\r\n"]}